<?xml version="1.0" encoding="UTF-8"?>
<newGITmetamodelwithtypes:Arrangement
    xmi:version="2.0"
    xmlns:xmi="http://www.omg.org/XMI"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xmlns:newGITmetamodelwithtypes="http://www.example.org/newGITmetamodelwithtypes"
    xsi:schemaLocation="http://www.example.org/newGITmetamodelwithtypes newGITmetamodelwithtypes.ecore"
    arrangementName="ArmSideSender">
  <stateMachine
      name="file_generator">
    <initialState
        stateName="SET_UP">
      <onEntry>
        <statements
            xsi:type="newGITmetamodelwithtypes:AssignmentIntegerLHS"
            variable="//@stateMachine.0/@localVariables/@variables.0">
          <anArithmeticExpression
              xsi:type="newGITmetamodelwithtypes:IntegerConstant"/>
        </statements>
        <statements
            xsi:type="newGITmetamodelwithtypes:AssignmentBooleanLHS"
            variable="//@booleanWhiteboardVariables/@variables.0">
          <aBooleanExpression
              xsi:type="newGITmetamodelwithtypes:BooleanConstant"/>
        </statements>
      </onEntry>
    </initialState>
    <states
        stateName="TEST_EOF">
      <onEntry>
        <statements
            xsi:type="newGITmetamodelwithtypes:AssignmentBooleanLHS"
            variable="//@booleanWhiteboardVariables/@variables.0">
          <aBooleanExpression
              xsi:type="newGITmetamodelwithtypes:OrExpression">
            <leftExpression
                xsi:type="newGITmetamodelwithtypes:BooleanVariableReference"
                theVariable="//@booleanWhiteboardVariables/@variables.0"/>
            <rightExpression
                xsi:type="newGITmetamodelwithtypes:OrExpression">
              <leftExpression
                  xsi:type="newGITmetamodelwithtypes:BooleanVariableReference"
                  theVariable="//@booleanSensorVariables/@variables.1"/>
              <rightExpression
                  xsi:type="newGITmetamodelwithtypes:LessThanExpression">
                <leftExpression
                    xsi:type="newGITmetamodelwithtypes:PredefinedIntegerConstant"
                    listedIntegerConstant="//@integerConstantDefinitions/@definitionsIntegerConstants.3"/>
                <rightExpression
                    xsi:type="newGITmetamodelwithtypes:AdditionExpression">
                  <leftExpression
                      xsi:type="newGITmetamodelwithtypes:IntegerVariableReference"
                      theVariable="//@stateMachine.0/@localVariables/@variables.0"/>
                  <rightExpression
                      xsi:type="newGITmetamodelwithtypes:IntegerConstant"
                      anIntegerValue="2"/>
                </rightExpression>
              </rightExpression>
            </rightExpression>
          </aBooleanExpression>
        </statements>
        <statements
            xsi:type="newGITmetamodelwithtypes:AssignmentBooleanLHS"
            variable="//@booleanWhiteboardVariables/@variables.1">
          <aBooleanExpression
              xsi:type="newGITmetamodelwithtypes:BooleanConstant"/>
        </statements>
      </onEntry>
    </states>
    <states
        stateName="GENERATE_CHAR">
      <onEntry>
        <statements
            xsi:type="newGITmetamodelwithtypes:AssignmentIntegerLHS"
            variable="//@stateMachine.0/@localVariables/@variables.0">
          <anArithmeticExpression
              xsi:type="newGITmetamodelwithtypes:AdditionExpression">
            <leftExpression
                xsi:type="newGITmetamodelwithtypes:IntegerVariableReference"
                theVariable="//@stateMachine.0/@localVariables/@variables.0"/>
            <rightExpression
                xsi:type="newGITmetamodelwithtypes:IntegerConstant"
                anIntegerValue="1"/>
          </anArithmeticExpression>
        </statements>
      </onEntry>
    </states>
    <transitions
        sourceState="//@stateMachine.0/@initialState"
        targetState="//@stateMachine.0/@states.0">
      <booleanExpression
          xsi:type="newGITmetamodelwithtypes:BooleanConstant"
          aBooleanValue="true"/>
    </transitions>
    <transitions
        sourceState="//@stateMachine.0/@states.0"
        targetState="//@stateMachine.0/@states.1">
      <booleanExpression
          xsi:type="newGITmetamodelwithtypes:NotExpression">
        <theExpression
            xsi:type="newGITmetamodelwithtypes:BooleanVariableReference"
            theVariable="//@booleanWhiteboardVariables/@variables.0"/>
      </booleanExpression>
    </transitions>
    <transitions
        sourceState="//@stateMachine.0/@states.1"
        targetState="//@stateMachine.0/@states.0">
      <booleanExpression
          xsi:type="newGITmetamodelwithtypes:BooleanVariableReference"
          theVariable="//@booleanWhiteboardVariables/@variables.1"/>
    </transitions>
    <localVariables>
      <variables
          variableID="total_chars_generated">
        <theUpperBound
            xsi:type="newGITmetamodelwithtypes:PredefinedIntegerConstant"
            listedIntegerConstant="//@integerConstantDefinitions/@definitionsIntegerConstants.3"/>
      </variables>
    </localVariables>
  </stateMachine>
  <stateMachine
      name="arm_to_pru0">
    <initialState
        stateName="INITIAL">
      <onEntry>
        <statements
            xsi:type="newGITmetamodelwithtypes:AssignmentIntegerLHS"
            variable="//@stateMachine.1/@localVariables/@variables.3">
          <anArithmeticExpression
              xsi:type="newGITmetamodelwithtypes:IntegerConstant"/>
        </statements>
      </onEntry>
    </initialState>
    <states
        stateName="FAIL_TO_OPEN"/>
    <states
        stateName="FILES_OPEN">
      <onEntry>
        <statements
            xsi:type="newGITmetamodelwithtypes:AssignmentIntegerLHS"
            variable="//@stateMachine.1/@localVariables/@variables.0">
          <anArithmeticExpression
              xsi:type="newGITmetamodelwithtypes:IntegerConstant"/>
        </statements>
      </onEntry>
    </states>
    <states
        stateName="READ_CHAR">
      <onEntry>
        <statements
            xsi:type="newGITmetamodelwithtypes:AssignmentIntegerLHS"
            variable="//@stateMachine.1/@localVariables/@variables.1">
          <anArithmeticExpression
              xsi:type="newGITmetamodelwithtypes:IntegerVariableReference"
              theVariable="//@sensorVariables/@variables.0"/>
        </statements>
      </onEntry>
    </states>
    <states
        stateName="OUTPUT_TAIL">
      <onEntry>
        <statements
            xsi:type="newGITmetamodelwithtypes:AssignmentIntegerLHS"
            variable="//@stateMachine.1/@localVariables/@variables.2">
          <anArithmeticExpression
              xsi:type="newGITmetamodelwithtypes:IntegerConstant"/>
        </statements>
        <statements
            xsi:type="newGITmetamodelwithtypes:AssignmentIntegerLHS"
            variable="//@stateMachine.1/@localVariables/@variables.0">
          <anArithmeticExpression
              xsi:type="newGITmetamodelwithtypes:AdditionExpression">
            <leftExpression
                xsi:type="newGITmetamodelwithtypes:IntegerVariableReference"
                theVariable="//@stateMachine.1/@localVariables/@variables.0"/>
            <rightExpression
                xsi:type="newGITmetamodelwithtypes:IntegerConstant"
                anIntegerValue="1"/>
          </anArithmeticExpression>
        </statements>
        <statements
            xsi:type="newGITmetamodelwithtypes:AssignmentIntegerLHS"
            variable="//@stateMachine.1/@localVariables/@variables.3">
          <anArithmeticExpression
              xsi:type="newGITmetamodelwithtypes:AdditionExpression">
            <leftExpression
                xsi:type="newGITmetamodelwithtypes:IntegerVariableReference"
                theVariable="//@stateMachine.1/@localVariables/@variables.3"/>
            <rightExpression
                xsi:type="newGITmetamodelwithtypes:IntegerVariableReference"
                theVariable="//@stateMachine.1/@localVariables/@variables.0"/>
          </anArithmeticExpression>
        </statements>
      </onEntry>
    </states>
    <states
        stateName="COPY_CHAR">
      <onEntry>
        <statements
            xsi:type="newGITmetamodelwithtypes:AssignmentIntegerLHS"
            variable="//@stateMachine.1/@localVariables/@variables.2">
          <anArithmeticExpression
              xsi:type="newGITmetamodelwithtypes:IntegerVariableReference"
              theVariable="//@stateMachine.1/@localVariables/@variables.1"/>
        </statements>
        <statements
            xsi:type="newGITmetamodelwithtypes:AssignmentBooleanLHS"
            variable="//@booleanWhiteboardVariables/@variables.1">
          <aBooleanExpression
              xsi:type="newGITmetamodelwithtypes:BooleanConstant"
              aBooleanValue="true"/>
        </statements>
      </onEntry>
    </states>
    <states
        stateName="INCREMENT">
      <onEntry>
        <statements
            xsi:type="newGITmetamodelwithtypes:AssignmentIntegerLHS"
            variable="//@stateMachine.1/@localVariables/@variables.0">
          <anArithmeticExpression
              xsi:type="newGITmetamodelwithtypes:AdditionExpression">
            <leftExpression
                xsi:type="newGITmetamodelwithtypes:IntegerVariableReference"
                theVariable="//@stateMachine.1/@localVariables/@variables.0"/>
            <rightExpression
                xsi:type="newGITmetamodelwithtypes:IntegerConstant"
                anIntegerValue="1"/>
          </anArithmeticExpression>
        </statements>
      </onEntry>
    </states>
    <states
        stateName="OUTPUT_BLOCK">
      <onEntry>
        <statements
            xsi:type="newGITmetamodelwithtypes:AssignmentIntegerLHS"
            variable="//@stateMachine.1/@localVariables/@variables.3">
          <anArithmeticExpression
              xsi:type="newGITmetamodelwithtypes:AdditionExpression">
            <leftExpression
                xsi:type="newGITmetamodelwithtypes:IntegerVariableReference"
                theVariable="//@stateMachine.1/@localVariables/@variables.3"/>
            <rightExpression
                xsi:type="newGITmetamodelwithtypes:PredefinedIntegerConstant"
                listedIntegerConstant="//@integerConstantDefinitions/@definitionsIntegerConstants.0"/>
          </anArithmeticExpression>
        </statements>
      </onEntry>
    </states>
    <transitions
        sourceState="//@stateMachine.1/@initialState"
        targetState="//@stateMachine.1/@states.1">
      <booleanExpression
          xsi:type="newGITmetamodelwithtypes:BooleanVariableReference"
          theVariable="//@booleanSensorVariables/@variables.0"/>
    </transitions>
    <transitions
        sourceState="//@stateMachine.1/@initialState"
        targetState="//@stateMachine.1/@states.0">
      <booleanExpression
          xsi:type="newGITmetamodelwithtypes:BooleanConstant"
          aBooleanValue="true"/>
    </transitions>
    <transitions
        sourceState="//@stateMachine.1/@states.1"
        targetState="//@stateMachine.1/@states.2">
      <booleanExpression
          xsi:type="newGITmetamodelwithtypes:BooleanConstant"
          aBooleanValue="true"/>
    </transitions>
    <transitions
        sourceState="//@stateMachine.1/@states.2"
        targetState="//@stateMachine.1/@states.3">
      <booleanExpression
          xsi:type="newGITmetamodelwithtypes:BooleanVariableReference"
          theVariable="//@booleanWhiteboardVariables/@variables.0"/>
    </transitions>
    <transitions
        sourceState="//@stateMachine.1/@states.2"
        targetState="//@stateMachine.1/@states.4">
      <booleanExpression
          xsi:type="newGITmetamodelwithtypes:BooleanConstant"
          aBooleanValue="true"/>
    </transitions>
    <transitions
        sourceState="//@stateMachine.1/@states.4"
        targetState="//@stateMachine.1/@states.5">
      <booleanExpression
          xsi:type="newGITmetamodelwithtypes:BooleanConstant"
          aBooleanValue="true"/>
    </transitions>
    <transitions
        sourceState="//@stateMachine.1/@states.5"
        targetState="//@stateMachine.1/@states.6">
      <booleanExpression
          xsi:type="newGITmetamodelwithtypes:OrExpression">
        <leftExpression
            xsi:type="newGITmetamodelwithtypes:LessThanExpression">
          <leftExpression
              xsi:type="newGITmetamodelwithtypes:PredefinedIntegerConstant"
              listedIntegerConstant="//@integerConstantDefinitions/@definitionsIntegerConstants.0"/>
          <rightExpression
              xsi:type="newGITmetamodelwithtypes:IntegerVariableReference"
              theVariable="//@stateMachine.1/@localVariables/@variables.0"/>
        </leftExpression>
        <rightExpression
            xsi:type="newGITmetamodelwithtypes:EqualExpression">
          <leftExpression
              xsi:type="newGITmetamodelwithtypes:PredefinedIntegerConstant"
              listedIntegerConstant="//@integerConstantDefinitions/@definitionsIntegerConstants.0"/>
          <rightExpression
              xsi:type="newGITmetamodelwithtypes:IntegerVariableReference"
              theVariable="//@stateMachine.1/@localVariables/@variables.0"/>
        </rightExpression>
      </booleanExpression>
    </transitions>
    <transitions
        sourceState="//@stateMachine.1/@states.5"
        targetState="//@stateMachine.1/@states.2">
      <booleanExpression
          xsi:type="newGITmetamodelwithtypes:BooleanConstant"
          aBooleanValue="true"/>
    </transitions>
    <transitions
        sourceState="//@stateMachine.1/@states.6"
        targetState="//@stateMachine.1/@states.1">
      <booleanExpression
          xsi:type="newGITmetamodelwithtypes:BooleanConstant"
          aBooleanValue="true"/>
    </transitions>
    <localVariables>
      <variables
          variableID="counter">
        <theUpperBound
            xsi:type="newGITmetamodelwithtypes:PredefinedIntegerConstant"
            listedIntegerConstant="//@integerConstantDefinitions/@definitionsIntegerConstants.1"/>
      </variables>
      <variables
          variableID="ch">
        <theUpperBound
            xsi:type="newGITmetamodelwithtypes:IntegerConstant"
            anIntegerValue="255"/>
      </variables>
      <variables
          variableID="block">
        <theUpperBound
            xsi:type="newGITmetamodelwithtypes:IntegerConstant"
            anIntegerValue="255"/>
      </variables>
      <variables
          variableID="total_output">
        <theUpperBound
            xsi:type="newGITmetamodelwithtypes:PredefinedIntegerConstant"
            listedIntegerConstant="//@integerConstantDefinitions/@definitionsIntegerConstants.3"/>
      </variables>
    </localVariables>
  </stateMachine>
  <sensorVariables>
    <variables
        variableID="charInFile">
      <theUpperBound
          xsi:type="newGITmetamodelwithtypes:PredefinedIntegerConstant"
          listedIntegerConstant="//@integerConstantDefinitions/@definitionsIntegerConstants.2"/>
    </variables>
  </sensorVariables>
  <booleanSensorVariables>
    <variables
        variableID="files_open"/>
    <variables
        variableID="NonDeterministicEOF"/>
  </booleanSensorVariables>
  <booleanWhiteboardVariables>
    <variables
        variableID="EOF"/>
    <variables
        variableID="char_read"/>
  </booleanWhiteboardVariables>
  <integerConstantDefinitions>
    <definitionsIntegerConstants
        Identifier="SIZE"
        anIntegerValue="4"/>
    <definitionsIntegerConstants
        Identifier="SIZEP1"
        anIntegerValue="5"/>
    <definitionsIntegerConstants
        Identifier="ASCII_VALUES"
        anIntegerValue="255"/>
    <definitionsIntegerConstants
        Identifier="MAX_FILE_SIZE"
        anIntegerValue="100"/>
  </integerConstantDefinitions>
</newGITmetamodelwithtypes:Arrangement>
